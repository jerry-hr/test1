<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <fieldset>
        <legend>注册页面</legend>
        <form action="regsucces-test2.html" method="post" onsubmit="return checkform()">
            <table >
                <tr>
                    <td>用户名：</td>
                    <td><input type="text" name="username" id="userid" onkeyup="checkusername()"/>
                        <span id="userMsg"></span>
                        <font color="green">字母数字下划线1到10位，不以数字开头</font>
                    </td>
                </tr>
                <tr>
                    <td>手机号：</td>
                    <td><input type="text" name="phonename" id="phoneid" onkeyup="checkphone()">
                        <span id="phoneMsg"></span>
                        <font color="green">以1开头，第二位是3,5,7,9共11位数字</font></td>
                </tr>
                <tr>
                    <td> 密码：</td>
                    <td><input type="password" name="password" id="pswid" onkeyup="checkpsw()">
                        <span id="pswMsg"></span>
                        <font color="green">字符为6到16位</font></td>
                </tr>
                <tr >
                    <td style="padding: 10px 30px;" colspan="2">
                        <input type="submit" id="subid" value="注册">
                    </td>
                </tr>
            </table>
           
        </form>
    </fieldset>
</body>
<script>
    //定义一个对象，用来接收id
    var usernameobj;
    var phoneobj;
    var pswobj;
    var userMsg;
    var phoneMsg;
    var pswMsg;
    window.onload=function(){
        usernameobj=document.getElementById("userid");
        phoneobj=document.getElementById("phoneid");
        pswobj=document.getElementById("pswid");
        userMsg=document.getElementById("userMsg");
        phoneMsg=document.getElementById("phoneMsg");
        pswMsg=document.getElementById("pswMsg");
    }
    function checkform(){
        var flaguser=checkusername();
        var flagphone=checkphone();
        var flagpsw=checkpsw();
        return flaguser&&flagphone&&flagpsw;

    }
    function checkusername(){
        var value=usernameobj.value; //userid里的值传给value
        var reg=/^[a-zA-Z_]\w{0,9}$/; //正则表达式---输入的在a到z,A到Z之间数字0,9之间
        var flag=reg.test(value); //将检测到的值赋值给flag
        if(value==""){   //判断值是否为空
            userMsg.innerHTML="用户名不允许为空";
            return false;
        }
        else if(!flag){  //如果不等于flag的值，也就是不满足reg的条件的话
            userMsg.innerHTML="用户名非法";
            return false;
        }
        else{
            userMsg.innerHTML=""; //正确就什么都不显示
            return true;
        }
    }
    //下同
    function checkphone(){
        var value=phoneobj.value;
        var reg=/^1[3|5|7|9]{1}[0-9]{9}$/;
        var flag=reg.test(value);
        if(value==""){
            phoneMsg.innerHTML="手机号不允许为空";
            return false;
        }
        else if(!flag){
            phoneMsg.innerHTML="手机号非法";
            return false;
        }
        else{
            phoneMsg.innerHTML="";
            return true;
        }
    }
    function checkpsw(){
        var value=pswobj.value;
        var reg=/^.{6,16}$/;
        var flag=reg.test(value);
        if(value==""){
            pswMsg.innerHTML="密码不允许为空";
            return false;
        }
        else if(!flag){
            pswMsg.innerHTML="密码非法";
            return false;
        }
        else{
            pswMsg.innerHTML="";
            return true;
        }
    }

</script>
</html>